:root {
    --bg-dark: #0a0e14; --bg-panel: #111922; --bg-card: #172232; --bg-hover: #1e3048;
    --bg-input: #0d1520; --border: #1e3048; --border-gold: #c8aa6e;
    --gold: #c8aa6e; --gold-light: #f0d68a; --blue: #0ac8b9; --red: #e84057;
    --green: #49b54e; --text: #d4d8de; --text-dim: #7b8fa3; --text-bright: #ecf0f5;
    --purple: #9b59b6; --font: 'Segoe UI',system-ui,sans-serif; --radius: 6px; --transition: .2s ease;
}
* { margin:0; padding:0; box-sizing:border-box; }
body { background:var(--bg-dark); color:var(--text); font-family:var(--font); height:100vh; overflow:hidden; }

/* HEADER */
#app-header { display:flex; align-items:center; justify-content:space-between; padding:8px 20px;
    background:linear-gradient(180deg,#111922,#0a0e14); border-bottom:1px solid var(--border); }
#app-header h1 { font-size:1.2rem; color:var(--gold); }
select,input[type="text"] { background:var(--bg-input); border:1px solid var(--border); color:var(--text);
    padding:6px 10px; border-radius:var(--radius); font-size:.85rem; font-family:var(--font); outline:none; }
select:focus,input[type="text"]:focus { border-color:var(--gold); }

/* SETUP */
#setup-panel { padding:10px 20px; background:var(--bg-panel); border-bottom:1px solid var(--border); }
.setup-row { display:flex; align-items:flex-end; gap:18px; flex-wrap:wrap; }
.setup-group { display:flex; flex-direction:column; gap:4px; }
.setup-group label { font-size:.65rem; color:var(--text-dim); text-transform:uppercase; letter-spacing:1px; }
.input-row { display:flex; gap:4px; }
.input-row input { width:180px; }
.role-selector { display:flex; gap:3px; }
.role-btn { padding:5px 12px; border:1px solid var(--border); border-radius:var(--radius);
    background:var(--bg-card); color:var(--text-dim); cursor:pointer; font-size:.8rem; transition:var(--transition); }
.role-btn:hover { background:var(--bg-hover); }
.role-btn.active { border-color:var(--blue); color:var(--blue); background:rgba(10,200,185,.1); }
.btn-primary { padding:6px 16px; border:none; border-radius:var(--radius); background:var(--gold);
    color:#0a0e14; font-weight:600; cursor:pointer; font-size:.85rem; }
.btn-primary:hover { background:var(--gold-light); }
.btn-primary:disabled { opacity:.5; }
.btn-small { padding:4px 10px; border:1px solid var(--border); border-radius:var(--radius);
    background:var(--bg-card); color:var(--text-dim); cursor:pointer; font-size:.75rem; }
.btn-tiny { padding:2px 8px; border:1px solid var(--border); border-radius:10px; background:transparent;
    color:var(--text-dim); cursor:pointer; font-size:.7rem; }
.btn-danger { border-color:var(--red); color:var(--red); }
.status-text { font-size:.75rem; color:var(--text-dim); }
.hidden { display:none !important; }
.hint { font-size:.75rem; color:var(--text-dim); }

/* Priority */
.prio-row { display:flex; align-items:center; gap:6px; }
.prio-buttons { display:flex; gap:2px; }
.prio-btn { padding:4px 10px; border:1px solid var(--border); border-radius:var(--radius);
    background:var(--bg-card); color:var(--text-dim); cursor:pointer; font-size:.7rem; white-space:nowrap; }
.prio-btn:hover { background:var(--bg-hover); }
.prio-btn.active[data-prio="0"] { border-color:var(--gold); color:var(--gold); }
.prio-btn.active[data-prio="50"] { border-color:var(--text-bright); color:var(--text-bright); }
.prio-btn.active[data-prio="100"] { border-color:var(--blue); color:var(--blue); }
.slider-value { font-size:.7rem; font-weight:700; color:var(--text-bright);
    background:var(--bg-card); padding:1px 6px; border-radius:10px; }
input[type="range"] { -webkit-appearance:none; width:90px; height:5px; border-radius:3px;
    background:linear-gradient(90deg,var(--gold),var(--blue)); outline:none; cursor:pointer; }
input[type="range"]::-webkit-slider-thumb { -webkit-appearance:none; width:14px; height:14px;
    border-radius:50%; background:var(--text-bright); border:2px solid var(--bg-dark); cursor:pointer; }

/* Inline bar (enemy picks, bans, pool) */
.inline-bar { display:flex; align-items:center; gap:16px; margin-top:8px; flex-wrap:wrap; }
.ib-section { display:flex; align-items:center; gap:4px; }
.ib-label { font-size:.7rem; color:var(--text-dim); white-space:nowrap; }
.pool-label { color:var(--gold); }
.chip-list { display:flex; gap:3px; align-items:center; }
.pick-chip { display:flex; align-items:center; gap:3px; padding:2px 6px 2px 2px;
    background:var(--bg-card); border:1px solid var(--border); border-radius:14px; cursor:pointer; }
.pick-chip:hover { border-color:var(--red); }
.pick-chip img { width:22px; height:22px; border-radius:50%; }
.pick-chip .chip-name { font-size:.65rem; color:var(--text); }
.pick-chip .chip-remove { font-size:.6rem; color:var(--red); }
.pick-chip.banned { border-color:rgba(232,64,87,.3); }
.pick-chip.banned img { filter:grayscale(.6); opacity:.7; }
.mode-buttons { display:flex; gap:2px; }
.mode-btn { padding:3px 8px; border:1px solid var(--border); border-radius:var(--radius);
    background:transparent; color:var(--text-dim); cursor:pointer; font-size:.65rem; }
.mode-btn.active { border-color:var(--blue); color:var(--blue); }
#player-pool-icons .pool-champ { width:24px; height:24px; border-radius:50%; border:2px solid var(--border-gold); object-fit:cover; }

/* MAIN LAYOUT : 2 colonnes fixes */
#main-layout { display:grid; grid-template-columns:1fr 340px; height:calc(100vh - 130px); overflow:hidden; }

/* CHAMPION GRID */
#champion-grid-section { display:flex; flex-direction:column; overflow:hidden; }
.grid-toolbar { padding:8px 14px; background:var(--bg-panel); border-bottom:1px solid var(--border); }
.grid-toolbar input { width:100%; }
.champion-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(80px,1fr)); gap:5px;
    padding:10px 14px; overflow-y:auto; flex:1; }

.champ-cell { display:flex; flex-direction:column; align-items:center; padding:5px 2px;
    border-radius:var(--radius); cursor:pointer; transition:var(--transition); border:2px solid transparent; }
.champ-cell:hover { background:var(--bg-hover); border-color:var(--border); }
.champ-cell.banned { opacity:.2; pointer-events:none; }
.champ-cell.picked-enemy { opacity:.35; }
.champ-cell.picked-enemy::after { content:'VS'; position:absolute; top:2px; right:2px; font-size:.5rem;
    font-weight:700; background:var(--red); color:#fff; padding:1px 3px; border-radius:3px; }
.champ-cell.in-pool { border-color:var(--gold); }
.champ-cell.hot-pick { border-color:var(--red); background:rgba(232,64,87,.1); }
.champ-cell.hot-pick img { border-color:var(--red); }
.champ-cell.recommended { border-color:var(--blue); background:rgba(10,200,185,.06); }
.champ-cell img { width:56px; height:56px; border-radius:50%; object-fit:cover; border:2px solid var(--border); transition:var(--transition); }
.champ-cell:hover img { border-color:var(--text-dim); transform:scale(1.05); }
.champ-cell .champ-name { font-size:.6rem; color:var(--text-dim); margin-top:2px; text-align:center;
    white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:76px; }
.champ-cell .champ-wr { font-size:.55rem; font-weight:600; }
.champ-wr.high { color:var(--green); } .champ-wr.mid { color:var(--gold); } .champ-wr.low { color:var(--red); }

/* SIDEBAR */
#sidebar-right { background:var(--bg-panel); border-left:1px solid var(--border); display:flex;
    flex-direction:column; overflow-y:auto; padding:14px; }
#sidebar-right h3 { font-size:.8rem; color:var(--gold); text-transform:uppercase; letter-spacing:1px; margin-bottom:8px; }
#sidebar-right h3 small { color:var(--text-dim); font-weight:400; }
.rec-context { font-size:.75rem; color:var(--text-dim); margin-bottom:8px; padding:6px 8px;
    background:var(--bg-card); border-radius:var(--radius); border-left:3px solid var(--blue); }
.rec-context.has-enemy { border-left-color:var(--purple); }

.rec-item { display:flex; align-items:center; gap:8px; padding:7px; border-radius:var(--radius);
    margin-bottom:4px; background:var(--bg-card); cursor:pointer; border:1px solid transparent; transition:var(--transition); }
.rec-item:hover { border-color:var(--blue); background:var(--bg-hover); }
.rec-item .rec-rank { font-size:.9rem; font-weight:700; color:var(--gold); width:18px; text-align:center; }
.rec-item img { width:36px; height:36px; border-radius:50%; border:2px solid var(--border); }
.rec-info { flex:1; }
.rec-name { font-size:.8rem; font-weight:600; color:var(--text-bright); }
.rec-details { font-size:.6rem; color:var(--text-dim); margin-top:1px; }
.rec-score { font-size:1rem; font-weight:700; color:var(--blue); }
.rec-tag { font-size:.55rem; padding:1px 5px; border-radius:8px; font-weight:600; margin-left:3px; }
.rec-tag.pool { background:rgba(200,170,110,.2); color:var(--gold); }
.rec-tag.counter { background:rgba(155,89,182,.2); color:var(--purple); }
.rec-tag.meta { background:rgba(10,200,185,.2); color:var(--blue); }
.rec-tag.hot { background:rgba(232,64,87,.25); color:#ff6b7a; border:1px solid rgba(232,64,87,.4); }
.score-bar { display:flex; gap:1px; margin-top:2px; height:3px; border-radius:2px; overflow:hidden; width:100%; }
.score-bar .bar-meta { background:var(--blue); } .score-bar .bar-player { background:var(--gold); }
.score-bar .bar-counter { background:var(--purple); }

/* DETAIL PANEL */
.modal-overlay { position:fixed; inset:0; background:rgba(0,0,0,.7); z-index:100; display:flex; align-items:center; justify-content:center; }
.detail-panel { background:var(--bg-panel); border:1px solid var(--border-gold); border-radius:12px;
    padding:20px 24px; width:94%; max-width:640px; max-height:88vh; overflow-y:auto; position:relative; }
.detail-close { position:absolute; top:10px; right:14px; background:none; border:none;
    color:var(--text-dim); font-size:1.5rem; cursor:pointer; }
.detail-close:hover { color:var(--text-bright); }
.detail-header { display:flex; align-items:center; gap:14px; margin-bottom:16px; }
.detail-header img { width:70px; height:70px; border-radius:50%; border:3px solid var(--gold); }
.detail-title h2 { font-size:1.3rem; color:var(--text-bright); }
.detail-title #detail-tags { display:flex; gap:4px; margin-top:3px; }
.detail-title #detail-score-big { font-size:1.5rem; font-weight:700; color:var(--blue); margin-top:2px; }
.detail-stats-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(100px,1fr)); gap:6px; margin-bottom:16px; }
.stat-card { background:var(--bg-card); border-radius:var(--radius); padding:8px 10px; text-align:center; }
.stat-card .stat-value { font-size:1.1rem; font-weight:700; color:var(--text-bright); }
.stat-card .stat-label { font-size:.6rem; color:var(--text-dim); margin-top:1px; text-transform:uppercase; }
.detail-section { margin-bottom:14px; }
.detail-section h4 { font-size:.75rem; color:var(--gold); text-transform:uppercase; letter-spacing:1px; margin-bottom:8px; }
.detail-weights { display:flex; gap:8px; flex-wrap:wrap; }
.weight-bar { flex:1; min-width:90px; background:var(--bg-card); border-radius:var(--radius); padding:8px; }
.weight-bar .wb-label { font-size:.65rem; color:var(--text-dim); margin-bottom:3px; }
.weight-bar .wb-track { height:6px; background:var(--bg-input); border-radius:3px; overflow:hidden; }
.weight-bar .wb-fill { height:100%; border-radius:3px; }
.weight-bar .wb-fill.meta { background:var(--blue); }
.weight-bar .wb-fill.player { background:var(--gold); }
.weight-bar .wb-fill.counter { background:var(--purple); }
.weight-bar .wb-score { font-size:.9rem; font-weight:700; color:var(--text-bright); margin-top:3px; }

/* Items build */
.detail-items { display:flex; flex-wrap:wrap; gap:6px; align-items:center; }
.item-icon { width:42px; height:42px; border-radius:var(--radius); border:2px solid var(--border);
    object-fit:cover; background:var(--bg-card); }
.item-icon:hover { border-color:var(--gold); }
.item-separator { color:var(--text-dim); font-size:1.2rem; margin:0 2px; }

.detail-chart { max-height:200px; }
.detail-chart canvas { max-height:180px; }

/* Pool editor modal */
.modal-content { background:var(--bg-panel); border:1px solid var(--border-gold); border-radius:12px;
    padding:20px; width:90%; max-width:650px; max-height:80vh; overflow-y:auto; }
.modal-content h2 { color:var(--gold); font-size:1rem; margin-bottom:10px; }
.modal-content input { width:100%; margin-bottom:10px; }
.small-grid { grid-template-columns:repeat(auto-fill,minmax(60px,1fr)); gap:3px; max-height:380px; overflow-y:auto; }
.small-grid .champ-cell img { width:40px; height:40px; }
.modal-actions { margin-top:12px; text-align:right; }

.chart-container { background:var(--bg-card); border-radius:var(--radius); padding:10px; }
.toast { position:fixed; bottom:20px; left:50%; transform:translateX(-50%); background:var(--bg-card);
    border:1px solid var(--gold); color:var(--text-bright); padding:8px 20px; border-radius:8px;
    font-size:.85rem; z-index:200; transition:opacity .3s; }
.toast.hidden { opacity:0; pointer-events:none; }
.loading-overlay { position:fixed; inset:0; background:rgba(10,14,20,.85); z-index:300;
    display:flex; align-items:center; justify-content:center; }
.loading-content { text-align:center; }
.loading-content p { margin-top:12px; font-size:.9rem; }
.spinner { display:inline-block; width:14px; height:14px; border:2px solid var(--text-dim);
    border-top-color:var(--gold); border-radius:50%; animation:spin .7s linear infinite; }
.spinner.big { width:36px; height:36px; border-width:3px; }
@keyframes spin { to { transform:rotate(360deg); } }
